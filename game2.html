<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>ë…¼ë¦¬ë ¥ í›ˆë ¨: ë‹¨ê³„ë³„ ë¯¸ë‹ˆ ìŠ¤ë„ì¿  | SKZ Brain Lab</title>
    <meta name="description" content="3x3ë¶€í„° 9x9ê¹Œì§€ ë‹¨ê³„ë³„ ìŠ¤ë„ì¿ ì™€ AI ì˜¤ëª©ì„ í†µí•´ ë…¼ë¦¬ì  ì‚¬ê³ ë ¥ì„ í‚¤ìš°ì„¸ìš”. ì‹¤ì‹œê°„ ê¸°ë¡ ì¸¡ì • ë° ë‘ë‡Œ ë¶„ì„ ë¦¬í¬íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.">
    <meta name="keywords" content="ìŠ¤ë„ì¿ , ì˜¤ëª©, ë…¼ë¦¬ë ¥í›ˆë ¨, ë‘ë‡Œê²Œì„, SKZBrainLab, ì¸ì§€ëŠ¥ë ¥í–¥ìƒ">
    <link rel="canonical" href="https://jeonghyeonmi.github.io/hmi/game2.html">

    <style>
        :root { --primary-color: #1a3a5f; --bg-color: #f4f7f9; --accent-color: #3498db; --border-dark: #222; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); margin: 0; color: #333; }
        
        /* ë©”ì¸ í—¤ë” */
        header { background: var(--primary-color); color: white; padding: 1.2rem; text-align: center; }
        header h1 { margin: 0; font-size: 1.4rem; font-weight: 800; }
        header h1 a { text-decoration: none; color: inherit; }

        /* ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜ */
        nav.main-nav { 
            background: white; padding: 0.8rem; display: flex; justify-content: center; gap: 1.2rem; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000;
            overflow-x: auto; white-space: nowrap;
        }
        nav.main-nav a { text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 0.9rem; flex-shrink: 0; }
        nav.main-nav a.active { color: var(--accent-color); border-bottom: 2px solid var(--accent-color); }

        /* ì„œë¸Œ ë„¤ë¹„ê²Œì´ì…˜ (ë…¼ë¦¬ë ¥ ê²Œì„ ë¦¬ìŠ¤íŠ¸) */
        .sub-nav { display: flex; justify-content: center; gap: 15px; padding: 12px 0; background: #fff; border-bottom: 1px solid #eee; font-size: 0.75rem; }
        .sub-nav a { text-decoration: none; color: #aaa; font-weight: 500; }
        .sub-nav a.current { color: var(--accent-color); font-weight: bold; }

        .container { 
            width: 95%; max-width: 500px; margin: 1.5rem auto; padding: 20px; 
            background: white; border-radius: 24px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; 
        }

        /* ë ˆë²¨ ì„ íƒê¸° */
        .level-indicator { display: flex; justify-content: center; gap: 8px; margin-bottom: 20px; flex-wrap: wrap; }
        .level-badge { padding: 8px 14px; background: #f1f3f5; border-radius: 20px; font-weight: bold; font-size: 0.8rem; color: #888; cursor: pointer; }
        .level-badge.active { background: var(--accent-color); color: white; box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3); }

        .game-guide { background: #f0f7ff; border-radius: 12px; padding: 15px; font-size: 0.85rem; line-height: 1.6; color: #444; margin-bottom: 15px; text-align: left; border-left: 4px solid var(--accent-color); }
        #timer { font-size: 2.2rem; font-weight: 800; color: var(--primary-color); margin-bottom: 15px; display: block; }

        /* ìŠ¤ë„ì¿  ê·¸ë¦¬ë“œ */
        .sudoku-grid { display: grid; margin: 15px auto; background: var(--border-dark); border: 2px solid var(--border-dark); gap: 1px; width: fit-content; border-radius: 4px; overflow: hidden; }
        .cell { background: white; display: flex; align-items: center; justify-content: center; aspect-ratio: 1/1; }
        .cell input { width: 100%; height: 100%; border: none; text-align: center; font-weight: 800; color: var(--accent-color); outline: none; background: transparent; padding: 0; appearance: none; }
        .cell.fixed { background: #f8f9fa; font-weight: bold; color: #2c3e50; }
        
        /* ê·¸ë¦¬ë“œ í¬ê¸° ëŒ€ì‘ */
        .grid-3 .cell, .grid-3 input { width: 80px; height: 80px; font-size: 2rem; }
        .grid-4 .cell, .grid-4 input { width: 65px; height: 65px; font-size: 1.8rem; }
        .grid-5 .cell, .grid-5 input { width: 55px; height: 55px; font-size: 1.5rem; }
        .grid-9 .cell, .grid-9 input { width: min(40px, 9.5vw); height: min(40px, 9.5vw); font-size: 1.1rem; }
        
        .btn-check { width: 100%; max-width: 280px; padding: 16px; background: #2ecc71; color: white; border: none; border-radius: 30px; font-weight: bold; font-size: 1rem; margin-top: 20px; cursor: pointer; }
        
        .ranking-container { margin-top: 35px; border-top: 2px dashed #eee; padding-top: 25px; }
        .ranking-title { font-size: 1.1rem; font-weight: bold; color: var(--primary-color); margin-bottom: 15px; }
        .rank-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        .rank-table th { padding: 10px; color: #888; border-bottom: 1px solid #eee; }
        .rank-table td { padding: 12px 5px; border-bottom: 1px solid #f9f9f9; }

        footer { text-align: center; padding: 3rem 0; color: #bbb; font-size: 0.8rem; }
    </style>
</head>
<body>

<header><h1><a href="index.html">SKZ ë‘ë‡Œ í›ˆë ¨ì†Œ</a></h1></header>

<nav class="main-nav">
    <a href="index.html">í™ˆ</a>
    <a href="game.html">ì§‘ì¤‘ë ¥</a>
    <a href="game2.html" class="active">ë…¼ë¦¬ë ¥</a>
    <a href="game3.html">íŒë‹¨ë ¥</a>
    <a href="report.html">ë¦¬í¬íŠ¸</a>
    <a href="posts.html">ë¶„ì„ì‹¤</a>
</nav>

<nav class="sub-nav">
    <a href="game2.html" class="current">[ë¯¸ë‹ˆìŠ¤ë„ì¿ ]</a>
    <a href="game7.html">[AI ì˜¤ëª©]</a>
</nav>

<main class="container">
    <div class="level-indicator">
        <div id="lv1" class="level-badge active" onclick="changeLevel(1)">ì…ë¬¸</div>
        <div id="lv2" class="level-badge" onclick="changeLevel(2)">ì´ˆê¸‰</div>
        <div id="lv3" class="level-badge" onclick="changeLevel(3)">ì¤‘ê¸‰</div>
        <div id="lv4" class="level-badge" onclick="changeLevel(4)">ë§ˆìŠ¤í„°</div>
    </div>

    <article class="game-guide">ê°€ë¡œ, ì„¸ë¡œ ìˆ«ìê°€ ì¤‘ë³µë˜ì§€ ì•Šê²Œ ì±„ìš°ì„¸ìš”. (0.01ì´ˆ ì¸¡ì • ì¤‘)</article>
    <span id="timer">0.00</span>
    
    <div id="sudokuBoard" class="sudoku-grid"></div>
    
    <button class="btn-check" onclick="finishGame()">ì •ë‹µ í™•ì¸ ë° ê¸°ë¡ ì €ì¥</button>
    
    <section class="ranking-container">
        <h2 class="ranking-title">ğŸ“Š ë‚˜ì˜ ë…¼ë¦¬ë ¥ ì¼ì§€</h2>
        <div id="best-record" style="font-size:0.95rem; color:var(--accent-color); font-weight:bold; margin-bottom:12px;">ìµœê³  ê¸°ë¡: -</div>
        <table class="rank-table">
            <thead><tr><th>íšŒì°¨</th><th>ì •ë³´</th><th>ê¸°ë¡</th></tr></thead>
            <tbody id="rankingBody"></tbody>
        </table>
        <button onclick="clearHistory()" style="margin-top:20px; background:none; border:none; color:#ccc; font-size:0.75rem; text-decoration:underline; cursor:pointer;">ê¸°ë¡ ì´ˆê¸°í™”</button>
    </section>
</main>

<footer>&copy; 2026 SKZ Brain Lab. All rights reserved.</footer>

<script>
    let currentLevel = 1, startTime, timerInterval, gameStarted = false;
    const levelSettings = { 1: { size: 3, holes: 2 }, 2: { size: 4, holes: 5 }, 3: { size: 5, holes: 10 }, 4: { size: 9, holes: 30 } };

    function initGame() {
        const board = document.getElementById('sudokuBoard'); const config = levelSettings[currentLevel];
        gameStarted = false; clearInterval(timerInterval); document.getElementById('timer').innerText = '0.00';
        board.className = `sudoku-grid grid-${config.size}`; board.style.gridTemplateColumns = `repeat(${config.size}, 1fr)`; board.innerHTML = '';
        
        let solution = Array.from({length: config.size}, (_, i) => 
            Array.from({length: config.size}, (_, j) => ((i + j) % config.size) + 1)
        );
        solution.sort(() => Math.random() - 0.5);

        let puzzle = solution.map(row => [...row]);
        let count = 0;
        while(count < config.holes) {
            let r = Math.floor(Math.random()*config.size), c = Math.floor(Math.random()*config.size);
            if(puzzle[r][c] !== 0) { puzzle[r][c] = 0; count++; }
        }

        puzzle.forEach((val) => {
            const cell = document.createElement('div'); cell.classList.add('cell');
            if (val !== 0) {
                cell.innerText = val; cell.classList.add('fixed');
            } else {
                const input = document.createElement('input'); 
                input.type = 'number'; input.inputMode = "numeric";
                input.oninput = () => { if(!gameStarted) startTimer(); };
                cell.appendChild(input);
            }
            board.appendChild(cell);
        });
        displayHistory();
    }

    function startTimer() { 
        gameStarted = true; startTime = new Date(); 
        timerInterval = setInterval(() => { document.getElementById('timer').innerText = ((new Date() - startTime) / 1000).toFixed(2); }, 10); 
    }

    function finishGame() {
        const size = levelSettings[currentLevel].size;
        const cells = document.querySelectorAll('.cell');
        let boardData = [];
        for(let i=0; i<size; i++) {
            let row = [];
            for(let j=0; j<size; j++) {
                const cell = cells[i * size + j];
                const val = cell.classList.contains('fixed') ? cell.innerText : cell.querySelector('input').value;
                if(!val) { alert("ëª¨ë“  ì¹¸ì„ ì±„
