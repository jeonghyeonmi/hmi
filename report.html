<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸Œë ˆì¸ ë¦¬í¬íŠ¸ | SKZ Brain Lab</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { --primary-color: #1a3a5f; --bg-color: #f4f7f9; --accent-color: #d35400; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg-color); margin: 0; padding: 0; color: #333; }
        
        header { background: var(--primary-color); color: white; padding: 1.2rem; text-align: center; }
        header h1 { margin: 0; font-size: 1.3rem; }
        header h1 a { text-decoration: none; color: inherit; }

        nav { background: white; padding: 0.8rem; display: flex; justify-content: center; gap: 1.2rem; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        nav a { text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 0.9rem; }

        .container { max-width: 600px; margin: 1.5rem auto; padding: 0 15px; }
        
        .report-card { background: white; border-radius: 24px; padding: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; margin-bottom: 1.5rem; }
        
        .user-type { font-size: 1.1rem; color: #666; margin-bottom: 0.5rem; }
        .type-name { font-size: 1.8rem; font-weight: 900; color: var(--primary-color); margin-bottom: 1.5rem; }
        .type-name mark { background: none; color: var(--accent-color); }

        /* ê·¸ë˜í”„ ì»¨í…Œì´ë„ˆ */
        .chart-container { position: relative; margin: 0 auto 2rem; height: 300px; width: 300px; }

        .stat-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 2rem; }
        .stat-item { background: #f8f9fa; padding: 15px; border-radius: 16px; text-align: left; }
        .stat-label { font-size: 0.8rem; color: #888; display: block; }
        .stat-value { font-size: 1.1rem; font-weight: bold; color: var(--primary-color); }

        .btn-retry { display: block; background: var(--primary-color); color: white; padding: 18px; border-radius: 15px; text-decoration: none; font-weight: bold; margin-bottom: 1rem; }
        .btn-share { display: block; background: white; color: var(--primary-color); border: 2px solid var(--primary-color); padding: 15px; border-radius: 15px; text-decoration: none; font-weight: bold; }

        footer { text-align: center; padding: 2rem; color: #aaa; font-size: 0.8rem; }
    </style>
</head>
<body>

<header><h1><a href="index.html">ğŸ§  SKZ Brain Lab</a></h1></header>

<nav>
    <a href="index.html">í™ˆ</a>
    <a href="game.html">í›ˆë ¨ì‹¤</a>
    <a href="report.html" style="color:var(--accent-color); border-bottom:2px solid var(--accent-color);">ë¦¬í¬íŠ¸</a>
    <a href="post1.html">ë¶„ì„ì‹¤</a>
</nav>

<div class="container">
    <div class="report-card">
        <p class="user-type">ë‹¹ì‹ ì˜ ë¸Œë ˆì¸ íƒ€ì…ì€</p>
        <div class="type-name" id="brain-type">ë°ì´í„° ìˆ˜ì§‘ ì¤‘...</div>
        
        <div class="chart-container">
            <canvas id="abilityChart"></canvas>
        </div>

        <div class="stat-grid" id="stat-summary">
            </div>

        <p id="type-desc" style="color: #555; font-size: 0.95rem; line-height: 1.6; margin-bottom: 2rem;"></p>

        <a href="game.html" class="btn-retry">ì¶”ì²œ í›ˆë ¨í•˜ëŸ¬ ê°€ê¸°</a>
        <a href="#" class="btn-share" onclick="alert('ì¤€ë¹„ ì¤‘ì¸ ê¸°ëŠ¥ì…ë‹ˆë‹¤!')">ë¦¬í¬íŠ¸ ì´ë¯¸ì§€ ì €ì¥</a>
    </div>
</div>

<footer>&copy; 2026 SKZ Brain Lab. ì¢…í•© ì¸ì§€ ëŠ¥ë ¥ ë¶„ì„</footer>

<script>
    // 1. ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° (ì‹¤ì œ í‚¤ê°’ì— ë§ê²Œ ìˆ˜ì • í•„ìš”)
    const scores = {
        focus: parseInt(localStorage.getItem('game1_score')) || 45, // ì§‘ì¤‘ (ë¹¨ë¦¬ ëˆ„ë¥´ê¸°)
        logic: parseInt(localStorage.getItem('game2_score')) || 30, // ë…¼ë¦¬ (ì¹´ë“œ ë§ì¶”ê¸°)
        speed: parseInt(localStorage.getItem('game3_score')) || 55, // ìˆœë°œ (ìˆ«ì ìˆœì„œ)
        memory: parseInt(localStorage.getItem('game4_score')) || 25, // ê¸°ì–µ (ìˆœì„œ ê¸°ì–µ)
        math: parseInt(localStorage.getItem('game5_score')) || 40,   // ìˆ˜ë¦¬ (ì‚°ìˆ˜)
        cognition: parseInt(localStorage.getItem('game6_score')) || 35 // ì¸ì§€ (ë™ë¬¼ ì¸ì§€)
    };

    // 2. ê·¸ë˜í”„ ê·¸ë¦¬ê¸° (Chart.js)
    const ctx = document.getElementById('abilityChart').getContext('2d');
    new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['ì§‘ì¤‘ë ¥', 'ë…¼ë¦¬ë ¥', 'ìˆœë°œë ¥', 'ê¸°ì–µë ¥', 'ìˆ˜ë¦¬ë ¥', 'ì¸ì§€ë ¥'],
            datasets: [{
                label: 'ë‚´ ëŠ¥ë ¥ì¹˜',
                data: [scores.focus, scores.logic, scores.speed, scores.memory, scores.math, scores.cognition],
                backgroundColor: 'rgba(211, 84, 0, 0.2)',
                borderColor: 'rgba(211, 84, 0, 1)',
                borderWidth: 2,
                pointBackgroundColor: 'rgba(211, 84, 0, 1)'
            }]
        },
        options: {
            scales: {
                r: {
                    angleLines: { display: true },
                    suggestedMin: 0,
                    suggestedMax: 100,
                    ticks: { display: false }
                }
            },
            plugins: { legend: { display: false } }
        }
    });

    // 3. íƒ€ì… ì§„ë‹¨ ë¡œì§
    const brainTypeElem = document.getElementById('brain-type');
    const descElem = document.getElementById('type-desc');
    
    // ê°€ì¥ ë†’ì€ ì ìˆ˜ ì°¾ê¸°
    const maxVal = Math.max(...Object.values(scores));
    const bestAbility = Object.keys(scores).find(key => scores[key] === maxVal);

    let typeName = "";
    let description = "";

    if(bestAbility === 'math') {
        typeName = "ëƒ‰ì² í•œ <mark>ìˆ˜í•™ì</mark>";
        description = "ë³µì¡í•œ ê³„ì‚°ê³¼ ë…¼ë¦¬ì ì¸ ìƒí™©ì—ì„œ ë¹›ì„ ë°œí•˜ëŠ” íƒ€ì…ì…ë‹ˆë‹¤. ê°ì •ë³´ë‹¤ ìˆ˜ì¹˜ë¥¼ ë¯¿ëŠ” ê²½í–¥ì´ ìˆêµ°ìš”!";
    } else if(bestAbility === 'speed' || bestAbility === 'cognition') {
        typeName = "ì§ê´€ì ì¸ <mark>ì‚¬ëƒ¥ê¾¼</mark>";
        description = "ìˆœë°œë ¥ê³¼ ì¸ì§€ë ¥ì´ ë§¤ìš° ë›°ì–´ë‚©ë‹ˆë‹¤. ë‚¨ë“¤ì´ ê³ ë¯¼í•  ë•Œ ì´ë¯¸ ëª¸ì´ ë¨¼ì € ì›€ì§ì´ëŠ” ì‹¤í–‰ë ¥ì˜ ëŒ€ê°€ì…ë‹ˆë‹¤.";
    } else if(bestAbility === 'memory') {
        typeName = "ê±¸ì–´ë‹¤ë‹ˆëŠ” <mark>ë°±ê³¼ì‚¬ì „</mark>";
        description = "í•œ ë²ˆ ë³¸ ê²ƒì€ ë†“ì¹˜ì§€ ì•ŠëŠ” ê¸°ì–µë ¥ì„ ê°€ì¡Œêµ°ìš”. ì„¸ë°€í•œ ë””í…Œì¼ì„ ì¡ì•„ë‚´ëŠ” ë° íŠ¹í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.";
    } else {
        typeName = "ê· í˜• ì¡íŒ <mark>ì „ëµê°€</mark>";
        description = "ë‹¤ì–‘í•œ ìƒí™©ì— ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ëŠ” ëŠ¥ë ¥ì„ ê°€ì¡ŒìŠµë‹ˆë‹¤. ì „ì²´ì ì¸ íë¦„ì„ ì½ëŠ” ëˆˆì´ ì¢‹ìœ¼ì‹œë„¤ìš”!";
    }

    brainTypeElem.innerHTML = typeName;
    descElem.innerText = description;

    // 4. ìš”ì•½ ìˆ˜ì¹˜ í‘œì‹œ
    const summaryElem = document.getElementById('stat-summary');
    summaryElem.innerHTML = `
        <div class="stat-item"><span class="stat-label">ì¢…í•© ê°•ì </span><span class="stat-value">${typeName.replace(/<[^>]*>?/gm, '')}</span></div>
        <div class="stat-item"><span class="stat-label">í‰ê·  ì ìˆ˜</span><span class="stat-value">${Math.floor(Object.values(scores).reduce((a,b)=>a+b)/6)}ì </span></div>
    `;
</script>
</body>
</html>
