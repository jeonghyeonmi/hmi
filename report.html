<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>ë¸Œë ˆì¸ ë¶„ì„ ë¦¬í¬íŠ¸ | SKZ ë‘ë‡Œ í›ˆë ¨ì†Œ</title>
    <meta name="description" content="8ê°€ì§€ ë‡Œ ê³¼í•™ ê²Œì„ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì§‘ì¤‘ë ¥, ë…¼ë¦¬ë ¥, íŒë‹¨ë ¥ì„ ì •ë°€ ë¶„ì„í•©ë‹ˆë‹¤.">
    <meta property="og:title" content="SKZ ë‘ë‡Œ ë¶„ì„ ë¦¬í¬íŠ¸">
    <meta property="og:description" content="ë‚˜ì˜ ì¢…í•© ë‘ë‡Œ ì§€ìˆ˜ëŠ” ëª‡ ì ? ì§€ê¸ˆ í™•ì¸í•´ë³´ì„¸ìš”.">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root { 
            --primary-color: #1a3a5f; --bg-color: #f4f7f9; --accent-color: #d35400; 
            --focus-color: #047857; /* ì§‘ì¤‘ë ¥: Green */
            --logic-color: #b91c1c; /* ë…¼ë¦¬ë ¥: Red */
            --speed-color: #d35400; /* íŒë‹¨ë ¥: Orange */
            --text-main: #2c3e50; --text-muted: #7f8c8d; --white: #ffffff;
            --card-shadow: 0 8px 20px rgba(0,0,0,0.06);
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Pretendard', -apple-system, sans-serif; background: var(--bg-color); margin: 0; color: var(--text-main); line-height: 1.6; }

        /* [1ë‹¨] ë„¤ë¹„ê²Œì´ì…˜ (dash.htmlê³¼ ë™ì¼) */
        header { background: var(--primary-color); color: white; padding: 1.2rem; text-align: center; }
        header h1 { margin: 0; font-size: 1.4rem; font-weight: 800; }
        header h1 a { text-decoration: none; color: inherit; }

        nav.main-nav { background: white; padding: 0.8rem; display: flex; justify-content: center; gap: 1.2rem; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        nav.main-nav a { text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 0.9rem; }
        nav.main-nav a.active { color: var(--accent-color); border-bottom: 2px solid var(--accent-color); }

        .container { width: 92%; max-width: 500px; margin: 1.5rem auto; padding-bottom: 50px; }
        
        /* ë¦¬í¬íŠ¸ ë©”ì¸ ì¹´ë“œ */
        .report-card { background: white; border-radius: 28px; padding: 35px 20px; box-shadow: var(--card-shadow); text-align: center; margin-bottom: 20px; }
        .type-name { font-size: 1.7rem; font-weight: 900; color: var(--primary-color); margin-bottom: 8px; }
        .type-name mark { background: transparent; color: var(--accent-color); }
        .score-summary { font-size: 1.05rem; font-weight: 700; color: var(--text-muted); margin-bottom: 25px; }

        .chart-wrapper { position: relative; margin: 0 auto 30px; max-width: 320px; }

        /* ë¶„ì„ ê²°ê³¼ í…ìŠ¤íŠ¸ ë°•ìŠ¤ */
        .type-analysis-box { 
            background: #fff9f5; border: 1px solid #ffedd5; border-radius: 24px; 
            padding: 22px; text-align: left; margin-bottom: 10px; word-break: keep-all;
        }
        .analysis-title { font-weight: 800; color: var(--accent-color); margin-bottom: 8px; display: block; font-size: 1rem; }
        .analysis-text { font-size: 0.92rem; color: #475569; line-height: 1.7; margin: 0; }

        /* í•­ëª©ë³„ ê°€ì´ë“œ ì„¹ì…˜ */
        .guide-section { background: white; border-radius: 28px; padding: 25px 20px; box-shadow: var(--card-shadow); }
        .guide-title { font-size: 1.15rem; font-weight: 800; margin-bottom: 22px; text-align: left; border-left: 5px solid var(--accent-color); padding-left: 14px; }
        
        .category-box { margin-bottom: 28px; text-align: left; }
        .category-label { font-size: 0.95rem; font-weight: 800; margin-bottom: 12px; display: flex; align-items: center; justify-content: space-between; }
        .category-score { font-size: 0.8rem; background: #f1f5f9; padding: 2px 10px; border-radius: 10px; color: #64748b; }
        
        .game-links { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .game-card { 
            background: #ffffff; padding: 14px; border-radius: 18px; text-decoration: none; 
            color: #334155; font-size: 0.85rem; font-weight: 700; border: 1.5px solid #f1f5f9;
            display: flex; align-items: center; gap: 8px; transition: 0.2s;
        }
        .game-card:hover { border-color: var(--accent-color); background: #fffcf9; transform: translateY(-2px); }

        .btn-reset { background: transparent; color: #cbd5e1; font-size: 0.8rem; border: none; cursor: pointer; text-decoration: underline; margin-top: 40px; width: 100%; }
        
        footer { text-align: center; padding: 3rem 0; color: #bbb; font-size: 0.8rem; background: #fff; border-top: 1px solid #eee; margin-top: 2rem; }
    </style>
</head>
<body>

<header><h1><a href="/">SKZ ë‘ë‡Œ í›ˆë ¨ì†Œ</a></h1></header>

<nav class="main-nav">
    <a href="/">ë¸Œë ˆì¸ ë¶„ì„ì‹¤</a>
    <a href="dash.html">ë‘ë‡Œ í›ˆë ¨ì„¼í„°</a>
    <a href="report.html" class="active">ë‚˜ì˜ ë‘ë‡Œì ìˆ˜</a>
</nav>

<div class="container">
    <main class="report-card">
        <div class="type-name" id="brain-type">ë°ì´í„° ë¶„ì„ ì¤‘...</div>
        <div id="score-summary" class="score-summary">í›ˆë ¨ ê¸°ë¡ì„ ë¶ˆëŸ¬ì˜¤ê³  ìˆìŠµë‹ˆë‹¤.</div>
        
        <div class="chart-wrapper">
            <canvas id="abilityChart"></canvas>
        </div>

        <div class="type-analysis-box" id="analysis-box">
            <span class="analysis-title" id="analysis-title">ğŸ” ì¸ì§€ ëŠ¥ë ¥ ë¶„ì„</span>
            <p class="analysis-text" id="analysis-text">ê¸°ë¡ëœ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¹ì‹ ì˜ ë‘ë‡Œ ê°•ì ì„ íŒŒì•…í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
        </div>
    </main>

    <section class="guide-section">
        <div class="guide-title">ë§ì¶¤ í›ˆë ¨ ê°€ì´ë“œ</div>
        
        <div class="category-box">
            <span class="category-label" style="color: var(--focus-color);">ğŸ¯ FOCUS ì§‘ì¤‘ë ¥ <span class="category-score" id="score-focus">0ì </span></span>
            <div class="game-links">
                <a href="game.html" class="game-card">ğŸƒ ë©”ëª¨ë¦¬ ê²Œì„</a>
                <a href="game4.html" class="game-card">ğŸ“ ìœ„ì¹˜ ê¸°ì–µ</a>
                <a href="game8.html" class="game-card" style="grid-column: span 2;">ğŸ›’ ì‹œì¥ì— ê°€ë©´ (ì—°ìƒ ì•”ê¸°)</a>
            </div>
        </div>

        <div class="category-box">
            <span class="category-label" style="color: var(--logic-color);">ğŸ§© LOGIC ë…¼ë¦¬ë ¥ <span class="category-score" id="score-logic">0ì </span></span>
            <div class="game-links">
                <a href="game2.html" class="game-card">ğŸ”¢ ë¯¸ë‹ˆ ìŠ¤ë„ì¿ </a>
                <a href="game7.html" class="game-card">âšª AI ì˜¤ëª© ì „ëµ</a>
            </div>
        </div>

        <div class="category-box">
            <span class="category-label" style="color: var(--speed-color);">âš¡ COGNITIVE íŒë‹¨ë ¥ <span class="category-score" id="score-speed">0ì </span></span>
            <div class="game-links">
                <a href="game3.html" class="game-card">ğŸš¥ ìˆœë°œë ¥ íŒë‹¨</a>
                <a href="game5.html" class="game-card">â• ìˆ˜ë¦¬ ì•”ì‚°</a>
                <a href="game6.html" class="game-card" style="grid-column: span 2;">ğŸ¦ ë™ë¬¼ ì¸ì§€ ë¶„ë¥˜</a>
            </div>
        </div>

        <button class="btn-reset" onclick="resetData()">ëª¨ë“  í›ˆë ¨ ê¸°ë¡ ì´ˆê¸°í™”</button>
    </section>
</div>

<footer>&copy; 2026 SKZ Brain Lab. All rights reserved.</footer>

<script>
    // [1] ë°ì´í„° ìˆ˜ì§‘ í•¨ìˆ˜ (dash.htmlì˜ ê²Œì„ ë¶„ë¥˜ì— ë§ì¶¤)
    function getAverageScore(gameKeys) {
        let allScores = [];
        gameKeys.forEach(key => {
            const history = JSON.parse(localStorage.getItem(key + '_history')) || [];
            const single = parseInt(localStorage.getItem(key + '_score'));
            if (history.length > 0) allScores.push(...history);
            else if (!isNaN(single) && single > 0) allScores.push(single);
        });
        if (allScores.length === 0) return 0;
        // ìµœê·¼ 5ê°œ ì ìˆ˜ì˜ í‰ê·  ê³„ì‚°
        const recent = allScores.slice(-5);
        return Math.round(recent.reduce((a, b) => a + b, 0) / recent.length);
    }

    // ê·¸ë£¹ë³„ ì ìˆ˜ ë§¤í•‘ (dash.html ê¸°ì¤€)
    const scores = {
        focus: getAverageScore(['game', 'game4', 'game8']), 
        logic: getAverageScore(['game2', 'game7']),       
        speed: getAverageScore(['game3', 'game5', 'game6']) 
    };

    // í•˜ë‹¨ í…ìŠ¤íŠ¸ ì ìˆ˜ ì—…ë°ì´íŠ¸
    document.getElementById('score-focus').innerText = scores.focus + 'ì ';
    document.getElementById('score-logic').innerText = scores.logic + 'ì ';
    document.getElementById('score-speed').innerText = scores.speed + 'ì ';

    // [2] ë ˆì´ë” ì°¨íŠ¸ ìƒì„± (3ê°œ ì˜ì—­ì„ 6ê°œ í¬ì¸íŠ¸ë¡œ í™•ì¥í•˜ì—¬ ì‹œê°í™”)
    const ctx = document.getElementById('abilityChart').getContext('2d');
    new Chart(ctx, {
        type: 'radar',
        data: {
            labels: ['ì§‘ì¤‘ë ¥', 'ë…¼ë¦¬ë ¥', 'íŒë‹¨ë ¥', 'ì •ë°€ë„', 'ì¶”ë¡ ë ¥', 'ë°˜ì‘ì†ë„'],
            datasets: [{
                data: [scores.focus, scores.logic, scores.speed, scores.focus * 0.9, scores.logic * 0.9, scores.speed * 1.1],
                backgroundColor: 'rgba(211, 84, 0, 0.1)',
                borderColor: 'rgba(211, 84, 0, 1)',
                borderWidth: 2,
                pointRadius: 4
            }]
        },
        options: {
            scales: {
                r: {
                    suggestedMin: 0, suggestedMax: 100,
                    ticks: { display: false },
                    pointLabels: { font: { size: 12, weight: '700' } }
                }
            },
            plugins: { legend: { display: false } }
        }
    });

    // [3] ë¸Œë ˆì¸ íƒ€ì… ë° ë¶„ì„ ë©”ì‹œì§€ ì„¤ì •
    const totalScore = scores.focus + scores.logic + scores.speed;
    const avgScore = Math.floor(totalScore / 3);
    
    const brainTypeElem = document.getElementById('brain-type');
    const summaryElem = document.getElementById('score-summary');
    const analysisTitle = document.getElementById('analysis-title');
    const analysisText = document.getElementById('analysis-text');

    if (totalScore === 0) {
        brainTypeElem.innerHTML = "ìƒˆë‚´ê¸° <mark>í›ˆë ¨ì‚¬</mark>";
        summaryElem.innerText = "ê²Œì„ì„ í”Œë ˆì´í•˜ë©´ ì¸ì§€ ëŠ¥ë ¥ì„ ë¶„ì„í•´ ë“œë¦½ë‹ˆë‹¤.";
    } else {
        // ê°€ì¥ ë†’ì€ ì ìˆ˜ ì°¾ê¸°
        const maxVal = Math.max(scores.focus, scores.logic, scores.speed);
        summaryElem.innerText = `ì¢…í•© ë‘ë‡Œ ì§€ìˆ˜: ${avgScore}ì `;

        if (scores.focus === maxVal) {
            brainTypeElem.innerHTML = "ëª°ì…í•˜ëŠ” <mark>ì¥ì¸</mark>";
            analysisTitle.innerText = "ğŸ¯ ì§‘ì¤‘ë ¥ ì¥ì¸ì˜ íŠ¹ì§•";
            analysisText.innerText = "ì£¼ë³€ì˜ ë°©í•´ ìš”ì†Œì— í”ë“¤ë¦¬ì§€ ì•Šê³  ëª©í‘œì— ëª°ì…í•˜ëŠ” ëŠ¥ë ¥ì´ íƒì›”í•©ë‹ˆë‹¤. ë””í…Œì¼í•œ ì‘ì—…ê³¼ ê¸°ì–µë ¥ ê¸°ë°˜ì˜ ì—…ë¬´ì—ì„œ ë†’ì€ íš¨ìœ¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.";
        } else if (scores.logic === maxVal) {
            brainTypeElem.innerHTML = "ì¹˜ë°€í•œ <mark>ì „ëµê°€</mark>";
            analysisTitle.innerText = "ğŸ§© ì „ëµê°€ì˜ íŠ¹ì§•";
            analysisText.innerText = "ë³µì¡í•œ ë¬¸ì œë“¤ ì‚¬ì´ì—ì„œ íŒ¨í„´ì„ ì°¾ì•„ë‚´ê³  ìµœì ì˜ ê²½ë¡œë¥¼ ì„¤ê³„í•˜ëŠ” ëŠ¥ë ¥ì´ ê°•ì ì…ë‹ˆë‹¤. ë…¼ë¦¬ì  ì¶”ë¡ ê³¼ ì „ëµì  ìˆ˜ ì½ê¸°ì— ëŠ¥ìˆ™í•©ë‹ˆë‹¤.";
        } else {
            brainTypeElem.innerHTML = "ë‚ ë µí•œ <mark>ì¹˜íƒ€</mark>";
            analysisTitle.innerText = "âš¡ íŒë‹¨ë ¥ì˜ ë‹¬ì¸";
            analysisText.innerText = "ìê·¹ì„ ë‡Œì—ì„œ ê·¼ìœ¡ìœ¼ë¡œ ì „ë‹¬í•˜ëŠ” ë°˜ì‘ ì†ë„ê°€ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤. ìˆœê°„ì ì¸ íŒë‹¨ê³¼ ì¸ì§€ ì œì–´ ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ ìœ„ê¸° ìƒí™© ëŒ€ì²˜ì— ê°•í•©ë‹ˆë‹¤.";
        }
    }

    function resetData() { 
        if(confirm("ëª¨ë“  í›ˆë ¨ ê¸°ë¡ì´ ì‚­ì œë©ë‹ˆë‹¤. ì •ë§ ì´ˆê¸°í™”í• ê¹Œìš”?")) { 
            localStorage.clear(); 
            location.reload(); 
        } 
    }
</script>
</body>
</html>
