<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¸Œë ˆì¸ ë¶„ì„ì‹¤ | SKZ Brain Lab</title>
    <style>
        :root { 
            --primary-color: #1a3a5f; --bg-color: #f4f7f9; --accent-color: #3498db; 
            --gold: #f1c40f; --silver: #bdc3c7; --bronze: #cd7f32;
        }
        * { box-sizing: border-box; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); margin: 0; color: #333; }
        
        header { background: var(--primary-color); color: white; padding: 1rem; text-align: center; }
        header h1 a { text-decoration: none; color: inherit; font-size: 1.3rem; }
        
        nav.main-nav { background: white; padding: 0.8rem; display: flex; justify-content: center; gap: 1rem; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        nav.main-nav a { text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 0.85rem; }
        nav.main-nav a.active { color: var(--accent-color); border-bottom: 2px solid var(--accent-color); }

        .container { width: 95%; max-width: 500px; margin: 2rem auto; padding: 25px; background: white; border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); text-align: center; }
        
        h2 { color: var(--primary-color); margin-bottom: 1.5rem; font-size: 1.5rem; }

        /* ğŸ† ë­í‚¹ ë³´ë“œ ìŠ¤íƒ€ì¼ */
        .ranking-table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        .ranking-table th { border-bottom: 2px solid #eee; padding: 10px; font-size: 0.9rem; color: #888; }
        .ranking-table td { padding: 12px 10px; border-bottom: 1px solid #f9f9f9; font-weight: 500; }
        
        .rank-1 { color: var(--gold); font-weight: 800; font-size: 1.2rem; }
        .rank-2 { color: var(--silver); font-weight: 700; }
        .rank-3 { color: var(--bronze); font-weight: 700; }

        /* ê¸°ë¡ ë“±ë¡ í¼ */
        .register-box { background: #f8f9fa; padding: 20px; border-radius: 12px; margin-bottom: 30px; }
        .register-box input { padding: 10px; width: 60%; border: 1px solid #ddd; border-radius: 8px; margin-right: 5px; outline: none; }
        .register-box button { padding: 10px 15px; background: var(--accent-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }

        .no-data { color: #aaa; padding: 20px; font-size: 0.9rem; }
    </style>
</head>
<body>
    <header><h1><a href="index.html">ğŸ§  SKZ Brain Lab</a></h1></header>
    <nav class="main-nav">
        <a href="index.html">í™ˆ</a>
        <a href="game.html">ì§‘ì¤‘ë ¥ í›ˆë ¨</a>
        <a href="game2.html">ë…¼ë¦¬ë ¥ í›ˆë ¨</a>
        <a href="post1.html" class="active">ë¸Œë ˆì¸ ë¶„ì„ì‹¤</a>
    </nav>

    <main class="container">
        <h2>ğŸ† ë…¼ë¦¬ë ¥ ëª…ì˜ˆì˜ ì „ë‹¹</h2>

        <div class="register-box">
            <p style="font-size: 0.85rem; margin-bottom: 10px; color: #666;">í›ˆë ¨ì„ ë§ˆì¹œ í›„ ì•„ì´ë””ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”!</p>
            <input type="text" id="userId" placeholder="ì•„ì´ë”” ì…ë ¥ (ìµœëŒ€ 8ì)" maxlength="8">
            <button onclick="addRecord()">ë“±ë¡</button>
        </div>

        <table class="ranking-table">
            <thead>
                <tr>
                    <th>ìˆœìœ„</th>
                    <th>ì•„ì´ë””</th>
                    <th>ê¸°ë¡(ì´ˆ)</th>
                </tr>
            </thead>
            <tbody id="rankingBody">
                </tbody>
        </table>
        <div id="emptyMsg" class="no-data" style="display: none;">ì•„ì§ ë“±ë¡ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</div>
        
        <button onclick="clearRanking()" style="margin-top: 30px; background: none; border: none; color: #ccc; font-size: 0.7rem; cursor: pointer;">ê¸°ë¡ ì´ˆê¸°í™”(í…ŒìŠ¤íŠ¸ìš©)</button>
    </main>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë­í‚¹ í‘œì‹œ
        document.addEventListener('DOMContentLoaded', displayRanking);

        function addRecord() {
            const idInput = document.getElementById('userId');
            const userId = idInput.value.trim();
            
            // ì‹¤ì œ ê²Œì„ í˜ì´ì§€ì—ì„œ ê¸°ë¡ì„ ë°›ì•„ì˜¤ëŠ” ì—°ë™ì´ í•„ìš”í•˜ì§€ë§Œ, 
            // í˜„ì¬ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ëœë¤ ê¸°ë¡ì„ ìƒì„±í•©ë‹ˆë‹¤.
            // (ë‚˜ì¤‘ì— game2.htmlì—ì„œ ë„˜ê²¨ë°›ì€ ì‹¤ì œ ì‹œê°„ì„ ë„£ë„ë¡ ì—°ë™ ê°€ëŠ¥)
            const playTime = (Math.random() * (120 - 30) + 30).toFixed(2); 

            if (!userId) {
                alert("ì•„ì´ë””ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
                return;
            }

            let rankings = JSON.parse(localStorage.getItem('sudokuRankings')) || [];
            
            // ìƒˆ ê¸°ë¡ ì¶”ê°€
            rankings.push({ id: userId, time: parseFloat(playTime), date: new Date().toLocaleDateString() });
            
            // ì‹œê°„ìˆœ ì •ë ¬ (ì§§ì„ìˆ˜ë¡ ë†’ì€ ìˆœìœ„)
            rankings.sort((a, b) => a.time - b.time);
            
            // 10ìœ„ê¹Œì§€ë§Œ ìœ ì§€
            rankings = rankings.slice(0, 10);
            
            localStorage.setItem('sudokuRankings', JSON.stringify(rankings));
            idInput.value = '';
            displayRanking();
            alert(`${playTime}ì´ˆì˜ ê¸°ë¡ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!`);
        }

        function displayRanking() {
            const rankingBody = document.getElementById('rankingBody');
            const emptyMsg = document.getElementById('emptyMsg');
            const rankings = JSON.parse(localStorage.getItem('sudokuRankings')) || [];

            rankingBody.innerHTML = '';

            if (rankings.length === 0) {
                emptyMsg.style.display = 'block';
                return;
            }

            emptyMsg.style.display = 'none';
            rankings.forEach((data, index) => {
                const row = document.createElement('tr');
                const rankNum = index + 1;
                let rankClass = '';
                if(rankNum === 1) rankClass = 'rank-1';
                else if(rankNum === 2) rankClass = 'rank-2';
                else if(rankNum === 3) rankClass = 'rank-3';

                row.innerHTML = `
                    <td class="${rankClass}">${rankNum}ìœ„</td>
                    <td>${data.id}</td>
                    <td>${data.time}s</td>
                `;
                rankingBody.appendChild(row);
            });
        }

        function clearRanking() {
            if(confirm("ëª¨ë“  ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                localStorage.removeItem('sudokuRankings');
                displayRanking();
            }
        }
    </script>
</body>
</html>
