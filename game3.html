<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>íŒë‹¨ë ¥ í›ˆë ¨ | SKZ Brain Lab</title>
    <style>
        :root { --primary-color: #1a3a5f; --bg-color: #f4f7f9; --accent-color: #9b59b6; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); margin: 0; }
        header { background: var(--primary-color); color: white; padding: 1rem; text-align: center; }
        header h1 a { text-decoration: none; color: inherit; font-size: 1.3rem; font-weight: 800; }
        nav.main-nav { background: white; padding: 0.8rem; display: flex; justify-content: center; gap: 1rem; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        nav.main-nav a { text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 0.85rem; }
        .container { width: 95%; max-width: 500px; margin: 1.5rem auto; padding: 20px; background: white; border-radius: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); text-align: center; }
        .game-guide { background: #f5f0ff; border-radius: 12px; padding: 12px 15px; font-size: 0.82rem; line-height: 1.5; color: #444; margin-bottom: 15px; text-align: left; border-left: 4px solid var(--accent-color); }
        .score-box { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: bold; color: var(--primary-color); }
        #word-display { font-size: 3.5rem; font-weight: 900; margin: 30px 0; height: 100px; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        .button-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .color-btn { padding: 25px 10px; border: none; border-radius: 15px; color: white; font-size: 1.2rem; font-weight: bold; cursor: pointer; }
        .ranking-container { margin-top: 30px; border-top: 2px dashed #eee; padding-top: 20px; }
        .rank-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        .rank-table td { padding: 12px 5px; border-bottom: 1px solid #f9f9f9; }
    </style>
</head>
<body>
    <header><h1><a href="index.html">ğŸ§  SKZ Brain Lab</a></h1></header>
    <nav class="main-nav"><a href="index.html">í™ˆ</a><a href="game.html">ì§‘ì¤‘ë ¥</a><a href="game2.html">ë…¼ë¦¬ë ¥</a><a href="game3.html">íŒë‹¨ë ¥</a><a href="post1.html">ë¸Œë ˆì¸ ë¶„ì„ì‹¤</a></nav>
    <main class="container">
        <div class="game-guide"><strong>ğŸ“ í›ˆë ¨ ê·œì¹™:</strong> ê¸€ìì˜ ì˜ë¯¸ê°€ ì•„ë‹Œ, ì‹¤ì œ <strong>'ìƒ‰ìƒ'</strong> ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”! 30ì´ˆ ë™ì•ˆì˜ ê¸°ë¡ì„ ì¸¡ì •í•©ë‹ˆë‹¤.</div>
        <div class="score-box"><span>ì‹œê°„: <span id="time-left">30</span>s</span><span>ì„±ê³µ: <span id="current-score">0</span></span></div>
        <div id="word-display" onclick="startGame()">START</div>
        <div class="button-grid">
            <button class="color-btn" style="background:#e74c3c" onclick="checkAnswer('#e74c3c')">ë¹¨ê°•</button>
            <button class="color-btn" style="background:#3498db" onclick="checkAnswer('#3498db')">íŒŒë‘</button>
            <button class="color-btn" style="background:#2ecc71" onclick="checkAnswer('#2ecc71')">ì´ˆë¡</button>
            <button class="color-btn" style="background:#f1c40f" onclick="checkAnswer('#f1c40f')">ë…¸ë‘</button>
        </div>
        <div class="ranking-container">
            <div class="ranking-title">ğŸ“Š ë‚˜ì˜ íŒë‹¨ë ¥ ì¼ì§€</div>
            <div id="best-record" style="font-size:0.9rem; color:var(--accent-color); font-weight:bold; margin-bottom:10px;">ìµœê³  ì ìˆ˜: -</div>
            <table class="rank-table"><thead><tr><th>íšŒì°¨</th><th>ë‚ ì§œ</th><th>ê°œìˆ˜</th></tr></thead><tbody id="rankingBody"></tbody></table>
            <button onclick="clearHistory()" style="margin-top:15px; background:none; border:none; color:#ccc; font-size:0.7rem; text-decoration:underline;">ì´ˆê¸°í™”</button>
        </div>
    </main>
    <script>
        const colors = [{name:'ë¹¨ê°•',code:'#e74c3c'},{name:'íŒŒë‘',code:'#3498db'},{name:'ì´ˆë¡',code:'#2ecc71'},{name:'ë…¸ë‘',code:'#f1c40f'}];
        let score=0, timeLeft=30, gameActive=false, timerInterval, targetColorCode="";
        function startGame() {
            if(gameActive) return; gameActive=true; score=0; timeLeft=30; document.getElementById('current-score').innerText=score; nextQuestion();
            timerInterval = setInterval(() => { timeLeft--; document.getElementById('time-left').innerText=timeLeft; if(timeLeft<=0) endGame(); }, 1000);
        }
        function nextQuestion() {
            const wIdx=Math.floor(Math.random()*4), cIdx=Math.floor(Math.random()*4);
            const d=document.getElementById('word-display'); d.innerText=colors[wIdx].name; d.style.color=colors[cIdx].code; targetColorCode=colors[cIdx].code;
        }
        function checkAnswer(c) { if(!gameActive) { startGame(); return; } if(c===targetColorCode) { score++; document.getElementById('current-score').innerText=score; nextQuestion(); } }
        function endGame() {
            gameActive=false; clearInterval(timerInterval);
            const now=new Date(); const dateStr=`${now.getMonth()+1}/${now.getDate()}`;
            let history=JSON.parse(localStorage.getItem('judgeHistory'))||[];
            let best=history.length>0?Math.max(...history.map(h=>h.score)):0;
            if(score>best) alert(`ğŸ‰ ìµœê³  ì ìˆ˜ ê²½ì‹ ! : ${score}ê°œ`);
            else alert(`í›ˆë ¨ ì¢…ë£Œ! ì ìˆ˜: ${score}ê°œ`);
            history.unshift({date:dateStr,score}); localStorage.setItem('judgeHistory',JSON.stringify(history.slice(0,10)));
            displayHistory(); document.getElementById('word-display').innerText="RESTART";
        }
        function displayHistory() {
            const body=document.getElementById('rankingBody'); const history=JSON.parse(localStorage.getItem('judgeHistory'))||[];
            if(history.length>0) {
                const best=Math.max(...history.map(h=>h.score)); document.getElementById('best-record').innerText=`â­ ë‚˜ì˜ ìµœê³  ì ìˆ˜: ${best}ê°œ`;
                body.innerHTML=history.map((h,i)=>`<tr><td>${history.length-i}íšŒ</td><td>${h.date}</td><td>${h.score}ê°œ</td></tr>`).join('');
            } else { body.innerHTML='<tr><td colspan="3">ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>'; }
        }
        function clearHistory() { if(confirm("ì§€ìš¸ê¹Œìš”?")) { localStorage.removeItem('judgeHistory'); location.reload(); } }
        displayHistory();
    </script>
</body>
</html>
