<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>ì‹œì¥ì— ê°€ë©´ - ì—°ì‡„ ì•”ê¸° ì§‘ì¤‘ë ¥ í›ˆë ¨ | SKZ ë‘ë‡Œ í›ˆë ¨ì†Œ</title>
    <meta name="description" content="AIì™€ í•¨ê»˜í•˜ëŠ” ì—°ì‡„ ì•”ê¸° ê²Œì„ìœ¼ë¡œ ë‹¹ì‹ ì˜ ë‹¨ê¸° ê¸°ì–µë ¥ê³¼ ì‘ì—… ê¸°ì–µ í•œê³„ì— ë„ì „í•˜ì„¸ìš”.">
    <meta property="og:title" content="SKZ ë‘ë‡Œ í›ˆë ¨: ì‹œì¥ì— ê°€ë©´">
    <meta property="og:description" content="ê¸°ì–µì˜ ì‚¬ìŠ¬ì„ ì–´ë””ê¹Œì§€ ì´ì–´ê°ˆ ìˆ˜ ìˆë‚˜ìš”?">
    
    <link rel="canonical" href="https://www.skztools.com/game8.html">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3698246671823168" crossorigin="anonymous"></script>

    <style>
        /* --- [1] ê³µí†µ ë ˆì´ì•„ì›ƒ --- */
        :root { 
            --primary-color: #1a3a5f; 
            --bg-color: #f4f7f9; 
            --focus-color: #047857; 
            --accent-color: #059669;
            --text-main: #2c3e50;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Pretendard', sans-serif; background: var(--bg-color); margin: 0; color: var(--text-main); line-height: 1.6; }

        header { background: var(--primary-color); color: white; padding: 1.2rem; text-align: center; }
        header h1 { margin: 0; font-size: 1.4rem; font-weight: 800; }
        header h1 a { text-decoration: none; color: inherit; }

        nav.main-nav { background: white; display: flex; justify-content: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000; }
        nav.main-nav a { text-decoration: none; color: #666; font-weight: bold; font-size: 0.9rem; padding: 1rem; }
        nav.main-nav a.active { color: var(--primary-color) !important; border-bottom: 2px solid var(--primary-color); }

        .category-tabs { display: flex; background: #fff; border-bottom: 1px solid #eee; justify-content: center; }
        .category-tabs a { flex: 1; text-align: center; padding: 15px 10px; text-decoration: none; color: #bbb; font-size: 0.9rem; font-weight: bold; max-width: 200px; }
        .category-tabs a.active { color: var(--focus-color) !important; border-bottom: 3px solid var(--focus-color); }

        .game-sub-nav { display: flex; gap: 10px; padding: 15px; justify-content: center; background: #f8f9fa; overflow-x: auto; white-space: nowrap; border-bottom: 1px solid #eee; }
        .game-sub-nav a { padding: 6px 14px; background: white; border: 1px solid #eee; border-radius: 20px; font-size: 0.75rem; text-decoration: none; color: #666; }
        .game-sub-nav a.active { background: var(--focus-color) !important; color: white !important; }

        /* --- [2] ê²Œì„ ì „ìš© ë””ìì¸ --- */
        .container { width: 95%; max-width: 500px; margin: 1.5rem auto; padding: 25px; background: white; border-radius: 28px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); text-align: center; }
        .game-guide { background: #f0fdf4; border-radius: 15px; padding: 15px; font-size: 0.85rem; color: #444; margin-bottom: 20px; text-align: left; border-left: 4px solid var(--focus-color); }

        #display-box { 
            background: #ffffff; height: 180px; display: flex; flex-direction: column; align-items: center; justify-content: center;
            border-radius: 24px; margin-bottom: 20px; border: 2px solid #e2e8f0; 
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative; overflow: hidden;
        }
        #current-item { font-size: 3.2rem; font-weight: 900; color: var(--focus-color); margin-bottom: 8px; min-height: 4.5rem; transition: 0.2s; }
        #turn-indicator { font-size: 0.75rem; padding: 4px 14px; border-radius: 20px; font-weight: 800; background: #f1f5f9; color: #64748b; letter-spacing: 1px; }

        #status-msg { font-size: 0.9rem; font-weight: 700; color: #475569; margin-bottom: 15px; min-height: 1.5rem; }
        
        .item-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 10px; }
        .item-btn { 
            background: #fff; border: 1px solid #e2e8f0; padding: 18px 5px; border-radius: 18px; 
            font-size: 1.1rem; font-weight: bold; cursor: pointer; transition: 0.2s; 
            box-shadow: 0 4px 0 #f1f5f9;
        }
        .item-btn:hover { background: #f8fafc; }
        .item-btn:active { transform: translateY(4px); box-shadow: none; background: #ecfdf5; border-color: var(--focus-color); }
        .item-btn.disabled { opacity: 0.5; cursor: not-allowed; pointer-events: none; }

        .btn-start { 
            width: 100%; max-width: 280px; padding: 20px; background: var(--focus-color); color: white; 
            border: none; border-radius: 35px; font-size: 1.2rem; font-weight: 800; cursor: pointer; 
            box-shadow: 0 8px 20px rgba(4, 120, 87, 0.25); transition: 0.3s;
        }
        .btn-start:active { transform: scale(0.96); box-shadow: 0 4px 10px rgba(4, 120, 87, 0.2); }

        .ranking-container { margin-top: 30px; border-top: 1px solid #eee; padding-top: 25px; }
        .rank-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; margin-top: 10px; }
        .rank-table th { padding: 10px; color: #94a3b8; border-bottom: 1px solid #eee; }
        .rank-table td { padding: 12px 5px; border-bottom: 1px solid #f8fafc; font-weight: 500; }
        #best-record { font-size: 1rem; color: var(--focus-color); font-weight: 800; margin-bottom: 15px; }

        footer { text-align: center; padding: 3rem 0; color: #bbb; font-size: 0.75rem; background: #fff; border-top: 1px solid #eee; }
    </style>
</head>
<body>

<header><h1><a href="/">SKZ ë‘ë‡Œ í›ˆë ¨ì†Œ</a></h1></header>

<nav class="main-nav">
    <a href="/">ë¸Œë ˆì¸ ë¶„ì„ì‹¤</a>
    <a href="dash.html" class="active">ë‘ë‡Œ í›ˆë ¨ì„¼í„°</a>
    <a href="report.html">ë‚˜ì˜ ë‘ë‡Œì ìˆ˜</a>
</nav>

<nav class="category-tabs">
    <a href="game.html" class="active">ì •ë°€ ì§‘ì¤‘</a>
    <a href="game2.html">ì „ëµ ë…¼ë¦¬</a>
    <a href="game3.html">ì¾Œì† íŒë‹¨</a>
</nav>

<nav class="game-sub-nav">
    <a href="game.html">ğŸ¯ ë©”ëª¨ë¦¬ ê²Œì„</a>
    <a href="game4.html">ğŸ“ ìœ„ì¹˜ ê¸°ì–µ</a>
    <a href="game8.html" class="active">ğŸ›’ ì‹œì¥ì— ê°€ë©´</a>
</nav>

<main class="container">
    <div class="game-guide">
        <strong>ğŸ§  ì‹œì¥ì— ê°€ë©´... (ì‘ì—… ê¸°ì–µë ¥)</strong><br>
        AIê°€ ë¬¼ê±´ì„ í•˜ë‚˜ì”© ì¶”ê°€í•©ë‹ˆë‹¤. <strong>ê¸°ì¡´ ë¬¼ê±´ë¶€í„° ìˆœì„œëŒ€ë¡œ</strong> í´ë¦­í•œ í›„, ë‹¹ì‹ ì´ ì¶”ê°€í•˜ê³  ì‹¶ì€ ë¬¼ê±´ì„ í•˜ë‚˜ ë” ì„ íƒí•˜ì„¸ìš”!
    </div>
    
    <div id="status-msg">ë‹¨ê¸° ê¸°ì–µì˜ í•œê³„ì— ë„ì „í•˜ì„¸ìš”!</div>
    
    <div id="display-box">
        <div id="turn-indicator">READY</div>
        <div id="current-item">ğŸ›’</div>
    </div>
    
    <button id="startBtn" class="btn-start" onclick="startGame()">í›ˆë ¨ ì‹œì‘í•˜ê¸°</button>
    
    <div id="game-ui" style="display: none;">
        <div class="item-grid" id="item-grid"></div>
    </div>

    <div class="ranking-container" id="ranking-section">
        <div id="best-record">â­ ë‚˜ì˜ ìµœê³  ê¸°ë¡: - ë‹¨ê³„</div>
        <table class="rank-table">
            <thead><tr><th>íšŒì°¨</th><th>ë‚ ì§œ</th><th>ê¸°ë¡</th></tr></thead>
            <tbody id="rankingBody"></tbody>
        </table>
        <button onclick="clearHistory()" style="margin-top:20px; background:none; border:none; color:#cbd5e1; font-size:0.75rem; text-decoration:underline; cursor:pointer;">ê¸°ë¡ ì´ˆê¸°í™”</button>
    </div>
</main>

<footer>
    &copy; 2026 SKZ Brain Lab. All rights reserved.
</footer>

<script>
    const itemList = ["ğŸ ì‚¬ê³¼", "ğŸŒ ë°”ë‚˜ë‚˜", "ğŸ‡ í¬ë„", "ğŸ¥• ë‹¹ê·¼", "ğŸ ë¹µ", "ğŸ¥š ê³„ë€", "ğŸ¥› ìš°ìœ ", "ğŸŸ ìƒì„ ", "ğŸ§€ ì¹˜ì¦ˆ", "ğŸŠ ì˜¤ë Œì§€", "ğŸŒ½ ì˜¥ìˆ˜ìˆ˜", "ğŸ„ ë²„ì„¯"];
    let memoryChain = [], userStep = 0, isAITurn = false, isUserAdding = false;

    function startGame() {
        memoryChain = [];
        document.getElementById('startBtn').style.display = 'none';
        document.getElementById('game-ui').style.display = 'block';
        document.getElementById('ranking-section').style.display = 'none';
        createGrid();
        aiTurn();
    }

    function createGrid() {
        const grid = document.getElementById('item-grid');
        grid.innerHTML = '';
        itemList.forEach(item => {
            const btn = document.createElement('button');
            btn.className = 'item-btn';
            btn.innerText = item;
            btn.onclick = () => handleInput(item);
            grid.appendChild(btn);
        });
    }

    function toggleGridState(disabled) {
        const btns = document.querySelectorAll('.item-btn');
        btns.forEach(btn => btn.classList.toggle('disabled', disabled));
    }

    async function aiTurn() {
        isAITurn = true; 
        isUserAdding = false;
        userStep = 0;
        toggleGridState(true);
        
        updateUI("AI TURN", "AIê°€ ë‹´ì€ ë¬¼ê±´ë“¤ì„ ê¸°ì–µí•˜ì„¸ìš”!", "#f8fafc", "#64748b");
        
        // AIê°€ ëœë¤ ì•„ì´í…œ í•˜ë‚˜ ì¶”ê°€ (ì§ì „ ì•„ì´í…œê³¼ ì¤‘ë³µ íšŒí”¼)
        let lastItem = memoryChain[memoryChain.length - 1];
        let newItem;
        do {
            newItem = itemList[Math.floor(Math.random() * itemList.length)];
        } while (newItem === lastItem && memoryChain.length < itemList.length);
        
        memoryChain.push(newItem);

        // í‘œì‹œ ì†ë„ ì¡°ì ˆ (ë‹¨ê³„ê°€ ì˜¬ë¼ê°ˆìˆ˜ë¡ ë¹¨ë¼ì§)
        let speed = Math.max(400, 1000 - (memoryChain.length * 40));
        const display = document.getElementById('current-item');
        
        for (let item of memoryChain) {
            await new Promise(r => setTimeout(r, 400));
            display.innerText = item;
            display.style.transform = "scale(1.2)";
            await new Promise(r => setTimeout(r, speed));
            display.innerText = "";
            display.style.transform = "scale(1)";
        }
        
        userTurn();
    }

    function userTurn() {
        isAITurn = false;
        toggleGridState(false);
        updateUI("USER TURN", "ìˆœì„œëŒ€ë¡œ í´ë¦­í•œ í›„, í•˜ë‚˜ë¥¼ ë” ì¶”ê°€í•˜ì„¸ìš”!", "#f0fdf4", "var(--focus-color)");
        document.getElementById('current-item').innerText = "â“";
    }

    function handleInput(selectedItem) {
        if (isAITurn) return;
        const display = document.getElementById('current-item');
        display.innerText = selectedItem;
        display.style.color = "var(--focus-color)";

        // 1ë‹¨ê³„: ê¸°ì¡´ ì²´ì¸ ë³µê¸°
        if (!isUserAdding) {
            if (selectedItem === memoryChain[userStep]) {
                userStep++;
                // ëª¨ë‘ ë³µê¸° ì„±ê³µ ì‹œ ì¶”ê°€ ë‹¨ê³„ë¡œ ì „í™˜
                if (userStep === memoryChain.length) {
                    isUserAdding = true;
                    document.getElementById('status-msg').innerText = "ì •ë‹µ! ì´ì œ ìƒˆë¡œìš´ ë¬¼ê±´ì„ í•˜ë‚˜ ë” ì¶”ê°€í•˜ì„¸ìš”.";
                    document.getElementById('turn-indicator').innerText = "ADD ITEM";
                    document.getElementById('turn-indicator').style.color = "#059669";
                    document.getElementById('display-box').style.background = "#ecfdf5";
                    display.innerText = "â•";
                }
            } else {
                // í‹€ë ¸ì„ ë•Œ
                display.style.color = "#ef4444";
                display.innerText = "âŒ";
                toggleGridState(true);
                setTimeout(endGame, 800);
            }
        } 
        // 2ë‹¨ê³„: ìœ ì €ê°€ ìƒˆ ì•„ì´í…œ ì¶”ê°€
        else {
            memoryChain.push(selectedItem);
            document.getElementById('status-msg').innerText = "ì˜í–ˆìŠµë‹ˆë‹¤! AIê°€ ì´ì–´ë°›ìŠµë‹ˆë‹¤.";
            isUserAdding = false;
            toggleGridState(true);
            setTimeout(aiTurn, 1000);
        }
    }

    function updateUI(turn, msg, bgColor, textColor) {
        document.getElementById('turn-indicator').innerText = turn;
        document.getElementById('status-msg').innerText = msg;
        const box = document.getElementById('display-box');
        box.style.background = bgColor;
        document.getElementById('turn-indicator').style.color = textColor;
    }

    function endGame() {
        const finalScore = Math.max(0, memoryChain.length - 1);
        // ì§‘ì¤‘ë ¥ ì ìˆ˜ ê³„ì‚° (ì‘ì—… ê¸°ì–µ ë²”ìœ„ 10ê°œ ì´ìƒì´ë©´ ë§Œì  ìˆ˜ì¤€)
        const reportScore = Math.min(100, Math.floor((finalScore / 10) * 100));
        
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ì €ì¥ (report.html ì—°ë™ìš©)
        localStorage.setItem('focusScore', reportScore); 
        
        let scoreHistory = JSON.parse(localStorage.getItem('game8_history')) || [];
        scoreHistory.push(reportScore);
        localStorage.setItem('game8_history', JSON.stringify(scoreHistory.slice(-10)));

        // ë‚´ë¶€ ë­í‚¹ìš© ë°ì´í„°
        const now = new Date();
        const dateStr = `${now.getMonth()+1}/${now.getDate()}`;
        let history = JSON.parse(localStorage.getItem('marketHistory')) || [];
        history.unshift({ date: dateStr, score: finalScore });
        localStorage.setItem('marketHistory', JSON.stringify(history.slice(0, 10)));

        setTimeout(() => {
            if (confirm(`í›ˆë ¨ ì¢…ë£Œ! [ìµœì¢… ${finalScore}ë‹¨ê³„]\n\në‘ë‡Œ ë¦¬í¬íŠ¸ì—ì„œ ì§‘ì¤‘ë ¥ ì ìˆ˜ë¥¼ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                location.href = 'report.html';
            } else {
                location.reload();
            }
        }, 300);
    }

    function displayHistory() {
        const body = document.getElementById('rankingBody');
        const history = JSON.parse(localStorage.getItem('marketHistory')) || [];
        if(history.length > 0) {
            const best = Math.max(...history.map(h => h.score));
            document.getElementById('best-record').innerText = `â­ ë‚˜ì˜ ìµœê³  ê¸°ë¡: ${best}ë‹¨ê³„`;
            body.innerHTML = history.map((h, i) => `
                <tr>
                    <td>${history.length - i}íšŒ</td>
                    <td>${h.date}</td>
                    <td>${h.score}ë‹¨ê³„</td>
                </tr>
            `).join('');
        } else {
            body.innerHTML = '<tr><td colspan="3">í›ˆë ¨ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>';
        }
    }

    function clearHistory() { 
        if(confirm("ëª¨ë“  ê¸°ë¡ì„ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) { 
            localStorage.removeItem('marketHistory'); 
            localStorage.removeItem('game8_history'); 
            location.reload(); 
        } 
    }

    displayHistory();
</script>
</body>
</html>
