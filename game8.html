<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>N-Back ê¸°ì–µë ¥ í›ˆë ¨: ì‘ì—… ê¸°ì–µë ¥ í–¥ìƒ ê²Œì„ | SKZ Brain Lab</title>
    <meta name="description" content="ì¸ì§€ì‹¬ë¦¬í•™ ê¸°ë°˜ N-Back í›ˆë ¨ìœ¼ë¡œ ë‹¹ì‹ ì˜ ì‘ì—… ê¸°ì–µë ¥(Working Memory)ê³¼ ì§‘ì¤‘ë ¥ì„ í•œê³„ê¹Œì§€ ëŒì–´ì˜¬ë¦¬ì„¸ìš”. ë‡Œ í™œì„±í™” ë“±ê¸‰ ë¦¬í¬íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.">
    <meta name="keywords" content="N-Back, ì—”ë°±, ê¸°ì–µë ¥í›ˆë ¨, ì‘ì—…ê¸°ì–µë ¥, ë‘ë‡Œê²Œì„, ì§‘ì¤‘ë ¥í–¥ìƒ, ì¸ì§€ëŠ¥ë ¥, SKZBrainLab">
    <link rel="canonical" href="https://jeonghyeonmi.github.io/hmi/game8.html">

    <meta property="og:type" content="website">
    <meta property="og:title" content="ë‹¹ì‹ ì˜ ë‘ë‡Œ ë“±ê¸‰ì€? N-Back ê¸°ì–µë ¥ í›ˆë ¨">
    <meta property="og:description" content="ê³¼í•™ì ì¸ ë‘ë‡Œ í›ˆë ¨ë²•, N-Back ê²Œì„ìœ¼ë¡œ ì‘ì—… ê¸°ì–µë ¥ í•œê³„ì— ë„ì „í•˜ì„¸ìš”.">
    <meta property="og:image" content="img/index.jpg">
    <meta property="og:url" content="https://jeonghyeonmi.github.io/hmi/game8.html">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "N-Back ê¸°ì–µë ¥ í›ˆë ¨",
      "operatingSystem": "Web",
      "applicationCategory": "EducationalApplication",
      "genre": "Brain Training",
      "description": "N-Back í›ˆë ¨ì„ í†µí•´ ì‘ì—… ê¸°ì–µë ¥ê³¼ ì§‘ì¤‘ë ¥ì„ í–¥ìƒì‹œí‚¤ëŠ” ì¸ì§€ í›ˆë ¨ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      }
    }
    </script>

    <style>
        :root { --primary-color: #1a3a5f; --bg-color: #f4f7f9; --accent-color: #e67e22; --success: #2ecc71; --error: #e74c3c; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Pretendard', sans-serif; background-color: var(--bg-color); margin: 0; color: #333; line-height: 1.6; }
        
        /* ë ˆì´ì•„ì›ƒ: í—¤ë” ë° ë„¤ë¹„ê²Œì´ì…˜ */
        header { background: var(--primary-color); color: white; padding: 1.2rem; text-align: center; }
        header h1 { margin: 0; font-size: 1.4rem; font-weight: 800; }
        header h1 a { text-decoration: none; color: inherit; }

        nav.main-nav { 
            background: white; padding: 0.8rem; display: flex; justify-content: center; gap: 1.2rem; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 1000;
        }
        nav.main-nav a { text-decoration: none; color: var(--primary-color); font-weight: bold; font-size: 0.9rem; }
        nav.main-nav a.active { color: var(--accent-color); border-bottom: 2px solid var(--accent-color); }

        .sub-nav { display: flex; justify-content: center; gap: 15px; padding: 12px 0; background: #fff; border-bottom: 1px solid #eee; font-size: 0.75rem; }
        .sub-nav a { text-decoration: none; color: #aaa; font-weight: 500; }
        .sub-nav a.current { color: var(--accent-color); font-weight: bold; }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container { 
            width: 94%; max-width: 450px; margin: 1.5rem auto; padding: 25px; 
            background: white; border-radius: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.04); text-align: center; 
        }

        .game-guide { text-align: left; background: #f0f7ff; padding: 15px; border-radius: 15px; margin-bottom: 20px; font-size: 0.85rem; border-left: 5px solid #3498db; }

        .display-area { 
            height: 180px; background: #2c3e50; border-radius: 20px; 
            display: flex; justify-content: center; align-items: center; 
            margin: 20px 0; transition: 0.2s; position: relative;
        }
        #number-display { font-size: 5rem; font-weight: 900; color: #fff; }

        .match-btn { 
            width: 100%; padding: 20px; background: var(--primary-color); color: white; border: none; 
            border-radius: 18px; font-size: 1.2rem; font-weight: bold; cursor: pointer; margin-top: 10px;
        }
        .btn-start { 
            width: 100%; padding: 18px; background: var(--accent-color); color: white; 
            border: none; border-radius: 30px; font-weight: bold; font-size: 1.2rem; cursor: pointer; 
        }

        /* í”¼ë“œë°± ì• ë‹ˆë©”ì´ì…˜ */
        .correct-flash { background-color: var(--success) !important; transform: scale(1.02); }
        .wrong-flash { background-color: var(--error) !important; animation: shake 0.3s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-8px); } 75% { transform: translateX(8px); } }

        /* ê²°ê³¼ íŒì—… */
        #result-overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.85); z-index: 2000; justify-content: center; align-items: center; 
        }
        .result-card { background: white; width: 88%; max-width: 360px; padding: 30px; border-radius: 28px; text-align: center; }
        .grade-badge { font-size: 1.4rem; font-weight: 900; color: var(--accent-color); margin-bottom: 12px; display: block; }

        footer { text-align: center; padding: 2.5rem 0; color: #bbb; font-size: 0.8rem; }
    </style>
</head>
<body>

<header><h1><a href="index.html">SKZ ë‘ë‡Œ í›ˆë ¨ì†Œ</a></h1></header>

<nav class="main-nav">
    <a href="index.html">í™ˆ</a>
    <a href="game.html" class="active">ì§‘ì¤‘ë ¥</a>
    <a href="game2.html">ë…¼ë¦¬ë ¥</a>
    <a href="game3.html">íŒë‹¨ë ¥</a>
    <a href="report.html">ë¦¬í¬íŠ¸</a>
    <a href="posts.html">ë¶„ì„ì‹¤</a>
</nav>

<div class="sub-nav">
    <a href="game.html">[ê¸°ë³¸í›ˆë ¨]</a>
    <a href="game8.html" class="current">[N-Back ê¸°ì–µë ¥]</a>
</div>

<main class="container">
    <section id="guide-box" class="game-guide">
        <h2 style="font-size: 1rem; margin: 0 0 5px 0;">ğŸ§  N-Back ê°€ì´ë“œ</h2>
        ìˆ«ìê°€ <strong id="n-val">1</strong>ë‹¨ê³„ ì „ ìˆ«ìì™€ ê°™ìœ¼ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”! ì •ë‹µë¥  80% ì´ìƒ ì‹œ ë‚œì´ë„ê°€ ìƒìŠ¹í•©ë‹ˆë‹¤.
    </section>

    <div style="display: flex; justify-content: space-between; font-weight: bold; font-size: 0.95rem; margin-bottom: 5px;">
        <span style="color:var(--accent-color)">Current: <span id="lv-text">1-Back</span></span>
        <span>Score: <span id="score">0</span></span>
    </div>

    <div id="display-box" class="display-area">
        <div id="number-display">READY</div>
    </div>

    <button id="startBtn" class="btn-start" onclick="startGame()">í›ˆë ¨ ì‹œì‘</button>
    <button id="matchBtn" class="match-btn" style="display:none;" onclick="handleMatch()">ì¼ì¹˜ (Match!)</button>
</main>

<div id="result-overlay">
    <div class="result-card">
        <span class="grade-badge" id="res-grade">RANK: S</span>
        <h2 style="margin: 0 0 10px 0;">í›ˆë ¨ ì¢…ë£Œ</h2>
        <p id="res-detail" style="font-size: 0.95rem; color: #444; line-height: 1.6; margin-bottom: 25px;"></p>
        <button class="btn-start" onclick="location.href='report.html'">ë¶„ì„ ë¦¬í¬íŠ¸ í™•ì¸</button>
        <button onclick="location.reload()" style="background:none; border:none; color:#aaa; margin-top:18px; cursor:pointer; text-decoration:underline; font-size:0.85rem;">ë‹¤ì‹œ ë„ì „í•˜ê¸°</button>
    </div>
</div>

<footer>&copy; 2026 SKZ Brain Lab. All rights reserved.</footer>

<script>
    let n = 1; 
    let sequence = [];
    let score = 0;
    let correctCount = 0;
    let totalTargets = 0;
    let isGameActive = false;
    let hasPressedCurrent = false;
    let gameCount = 0;
    const TOTAL_ROUNDS = 20;

    function startGame() {
        isGameActive = true; score = 0; sequence = []; gameCount = 0; correctCount = 0; totalTargets = 0;
        document.getElementById('startBtn').style.display = 'none';
        document.getElementById('matchBtn').style.display = 'block';
        document.getElementById('guide-box').style.opacity = '0.3';
        runNextCycle();
    }

    function runNextCycle() {
        if (!isGameActive) return;
        if (gameCount >= TOTAL_ROUNDS) { endGame(); return; }

        hasPressedCurrent = false;
        document.getElementById('display-box').className = 'display-area';
        
        let nextNum;
        if (sequence.length >= n && Math.random() < 0.35) {
            nextNum = sequence[sequence.length - n];
            totalTargets++;
        } else {
            nextNum = Math.floor(Math.random() * 9) + 1;
        }

        sequence.push(nextNum);
        document.getElementById('number-display').innerText = nextNum;
        gameCount++;

        setTimeout(runNextCycle, 2000);
    }

    function handleMatch() {
        if (!isGameActive || hasPressedCurrent) return;
        hasPressedCurrent = true;

        const current = sequence[sequence.length - 1];
        const target = sequence[sequence.length - (n + 1)];

        if (sequence.length > n && current === target) {
            score += 100; correctCount++;
            triggerFeedback('correct-flash');
        } else {
            score = Math.max(0, score - 50);
            triggerFeedback('wrong-flash');
        }
        document.getElementById('score').innerText = score;
    }

    function triggerFeedback(className) {
        const box = document.getElementById('display-box');
        box.classList.add(className);
        setTimeout(() => box.classList.remove(className), 300);
    }

    function endGame() {
        isGameActive = false;
        const accuracy = Math.round((correctCount / totalTargets) * 100) || 0;
        
        // [ë¦¬í¬íŠ¸ ì—°ë™] 100ì  ë§Œì  ê¸°ì¤€ ì ìˆ˜ ê³„ì‚°
        const finalMemoryScore = Math.min(100, (accuracy * 0.7) + (n * 15));
        localStorage.setItem('game8_score', finalMemoryScore);

        let grade = accuracy >= 80 ? "S (ì²œì¬ì )" : accuracy >= 60 ? "A (ìš°ìˆ˜)" : accuracy >= 40 ? "B (ë³´í†µ)" : "C (ë…¸ë ¥)";
        
        document.getElementById('res-grade').innerText = `RANK: ${grade}`;
        document.getElementById('res-detail').innerHTML = `
            ì •ë‹µë¥ : <b>${accuracy}%</b><br>
            ì„±ê³µ íšŸìˆ˜: ${correctCount}íšŒ / ëª©í‘œ ${totalTargets}íšŒ<br>
            ìµœì¢… ë‚œì´ë„: ${n}-Back ë‹¨ê³„
        `;
        document.getElementById('result-overlay').style.display = 'flex';
    }
</script>
</body>
</html>
